import{d as O,f as ee,g as te,q as _,t as se,r as d,b as e,u as C,c,o as r,w as u,m as $,P as w,aP as R,$ as X,af as H,L as q,b1 as oe,b0 as ae,bc as T,a$ as ne,ay as Y,a_ as le,H as b,n as S,j as K,b4 as re,z as ie,A as ue,M as de,N as ce,aj as pe,ak as G,h as U,B as J,C as fe,I as h,al as me,am as ve,e as F,k as I,G as M,F as ye,_ as ge}from"./index-bIu04CiL.js";import{g as be}from"./utils-5c41Z62Q.js";const[D,$e]=ee("DialogRoot"),Oe=O({inheritAttrs:!1,__name:"DialogRoot",props:{open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean,default:!1},modal:{type:Boolean,default:!0}},emits:["update:open"],setup(o,{emit:l}){const t=o,s=te(t,"open",l,{defaultValue:t.defaultOpen,passive:t.open===void 0}),m=_(),g=_(),{modal:f}=se(t);return $e({open:s,modal:f,openModal:()=>{s.value=!0},onOpenChange:i=>{s.value=i},onOpenToggle:()=>{s.value=!s.value},contentId:"",titleId:"",descriptionId:"",triggerElement:m,contentElement:g}),(i,n)=>d(i.$slots,"default",{open:e(s),close:()=>s.value=!1})}}),Be=O({__name:"DialogClose",props:{asChild:{type:Boolean},as:{default:"button"}},setup(o){const l=o;C();const t=D();return(a,s)=>(r(),c(e(w),$(l,{type:a.as==="button"?"button":void 0,onClick:s[0]||(s[0]=m=>e(t).onOpenChange(!1))}),{default:u(()=>[d(a.$slots,"default")]),_:3},16,["type"]))}}),Z=O({__name:"DialogContentImpl",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(o,{emit:l}){const t=o,a=l,s=D(),{forwardRef:m,currentElement:g}=C();return s.titleId||(s.titleId=R(void 0,"reka-dialog-title")),s.descriptionId||(s.descriptionId=R(void 0,"reka-dialog-description")),X(()=>{s.contentElement=g,H()!==document.body&&(s.triggerElement.value=H())}),(f,i)=>(r(),c(e(ae),{"as-child":"",loop:"",trapped:t.trapFocus,onMountAutoFocus:i[5]||(i[5]=n=>a("openAutoFocus",n)),onUnmountAutoFocus:i[6]||(i[6]=n=>a("closeAutoFocus",n))},{default:u(()=>[q(e(oe),$({id:e(s).contentId,ref:e(m),as:f.as,"as-child":f.asChild,"disable-outside-pointer-events":f.disableOutsidePointerEvents,role:"dialog","aria-describedby":e(s).descriptionId,"aria-labelledby":e(s).titleId,"data-state":e(be)(e(s).open.value)},f.$attrs,{onDismiss:i[0]||(i[0]=n=>e(s).onOpenChange(!1)),onEscapeKeyDown:i[1]||(i[1]=n=>a("escapeKeyDown",n)),onFocusOutside:i[2]||(i[2]=n=>a("focusOutside",n)),onInteractOutside:i[3]||(i[3]=n=>a("interactOutside",n)),onPointerDownOutside:i[4]||(i[4]=n=>a("pointerDownOutside",n))}),{default:u(()=>[d(f.$slots,"default")]),_:3},16,["id","as","as-child","disable-outside-pointer-events","aria-describedby","aria-labelledby","data-state"])]),_:3},8,["trapped"]))}}),Ce=O({__name:"DialogContentModal",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(o,{emit:l}){const t=o,a=l,s=D(),m=T(a),{forwardRef:g,currentElement:f}=C();return ne(f),(i,n)=>(r(),c(Z,$({...t,...e(m)},{ref:e(g),"trap-focus":e(s).open.value,"disable-outside-pointer-events":!0,onCloseAutoFocus:n[0]||(n[0]=v=>{var p;v.defaultPrevented||(v.preventDefault(),(p=e(s).triggerElement.value)==null||p.focus())}),onPointerDownOutside:n[1]||(n[1]=v=>{const p=v.detail.originalEvent,y=p.button===0&&p.ctrlKey===!0;(p.button===2||y)&&v.preventDefault()}),onFocusOutside:n[2]||(n[2]=v=>{v.preventDefault()})}),{default:u(()=>[d(i.$slots,"default")]),_:3},16,["trap-focus"]))}}),De=O({__name:"DialogContentNonModal",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(o,{emit:l}){const t=o,s=T(l);C();const m=D(),g=_(!1),f=_(!1);return(i,n)=>(r(),c(Z,$({...t,...e(s)},{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:n[0]||(n[0]=v=>{var p;v.defaultPrevented||(g.value||(p=e(m).triggerElement.value)==null||p.focus(),v.preventDefault()),g.value=!1,f.value=!1}),onInteractOutside:n[1]||(n[1]=v=>{var B;v.defaultPrevented||(g.value=!0,v.detail.originalEvent.type==="pointerdown"&&(f.value=!0));const p=v.target;((B=e(m).triggerElement.value)==null?void 0:B.contains(p))&&v.preventDefault(),v.detail.originalEvent.type==="focusin"&&f.value&&v.preventDefault()})}),{default:u(()=>[d(i.$slots,"default")]),_:3},16))}}),he=O({__name:"DialogContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(o,{emit:l}){const t=o,a=l,s=D(),m=T(a),{forwardRef:g}=C();return(f,i)=>(r(),c(e(Y),{present:f.forceMount||e(s).open.value},{default:u(()=>[e(s).modal.value?(r(),c(Ce,$({key:0,ref:e(g)},{...t,...e(m),...f.$attrs}),{default:u(()=>[d(f.$slots,"default")]),_:3},16)):(r(),c(De,$({key:1,ref:e(g)},{...t,...e(m),...f.$attrs}),{default:u(()=>[d(f.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),Q=O({__name:"DialogDescription",props:{asChild:{type:Boolean},as:{default:"p"}},setup(o){const l=o;C();const t=D();return(a,s)=>(r(),c(e(w),$(l,{id:e(t).descriptionId}),{default:u(()=>[d(a.$slots,"default")]),_:3},16,["id"]))}}),we=O({__name:"DialogOverlayImpl",props:{asChild:{type:Boolean},as:{}},setup(o){const l=D();return le(!0),C(),(t,a)=>(r(),c(e(w),{as:t.as,"as-child":t.asChild,"data-state":e(l).open.value?"open":"closed",style:{"pointer-events":"auto"}},{default:u(()=>[d(t.$slots,"default")]),_:3},8,["as","as-child","data-state"]))}}),ke=O({__name:"DialogOverlay",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{}},setup(o){const l=D(),{forwardRef:t}=C();return(a,s)=>{var m;return(m=e(l))!=null&&m.modal.value?(r(),c(e(Y),{key:0,present:a.forceMount||e(l).open.value},{default:u(()=>[q(we,$(a.$attrs,{ref:e(t),as:a.as,"as-child":a.asChild}),{default:u(()=>[d(a.$slots,"default")]),_:3},16,["as","as-child"])]),_:3},8,["present"])):b("",!0)}}}),W=O({__name:"DialogTitle",props:{asChild:{type:Boolean},as:{default:"h2"}},setup(o){const l=o,t=D();return C(),(a,s)=>(r(),c(e(w),$(l,{id:e(t).titleId}),{default:u(()=>[d(a.$slots,"default")]),_:3},16,["id"]))}}),Ee=O({__name:"DialogTrigger",props:{asChild:{type:Boolean},as:{default:"button"}},setup(o){const l=o,t=D(),{forwardRef:a,currentElement:s}=C();return t.contentId||(t.contentId=R(void 0,"reka-dialog-content")),X(()=>{t.triggerElement.value=s.value}),(m,g)=>(r(),c(e(w),$(l,{ref:e(a),type:m.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":e(t).open.value||!1,"aria-controls":e(t).open.value?e(t).contentId:void 0,"data-state":e(t).open.value?"open":"closed",onClick:e(t).onOpenToggle}),{default:u(()=>[d(m.$slots,"default")]),_:3},16,["type","aria-expanded","aria-controls","data-state","onClick"]))}}),Pe=O({__name:"DialogPortal",props:{to:{},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(o){const l=o;return(t,a)=>(r(),c(e(re),S(K(l)),{default:u(()=>[d(t.$slots,"default")]),_:3},16))}}),Ae={slots:{overlay:"fixed inset-0 bg-elevated/75",content:"fixed bg-default divide-y divide-default flex flex-col focus:outline-none",header:"flex items-center gap-1.5 p-4 sm:px-6 min-h-16",wrapper:"",body:"flex-1 overflow-y-auto p-4 sm:p-6",footer:"flex items-center gap-1.5 p-4 sm:px-6",title:"text-highlighted font-semibold",description:"mt-1 text-muted text-sm",close:"absolute top-4 end-4"},variants:{transition:{true:{overlay:"data-[state=open]:animate-[fade-in_200ms_ease-out] data-[state=closed]:animate-[fade-out_200ms_ease-in]",content:"data-[state=open]:animate-[scale-in_200ms_ease-out] data-[state=closed]:animate-[scale-out_200ms_ease-in]"}},fullscreen:{true:{content:"inset-0"},false:{content:"top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[calc(100vw-2rem)] max-w-lg max-h-[calc(100dvh-2rem)] sm:max-h-[calc(100dvh-4rem)] rounded-lg shadow-lg ring ring-default"}}}},_e={__name:"Modal",props:{title:{type:String,required:!1},description:{type:String,required:!1},content:{type:Object,required:!1},overlay:{type:Boolean,required:!1,default:!0},transition:{type:Boolean,required:!1,default:!0},fullscreen:{type:Boolean,required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0,default:!0},close:{type:[Boolean,Object],required:!1,default:!0},closeIcon:{type:String,required:!1},dismissible:{type:Boolean,required:!1,default:!0},class:{type:null,required:!1},ui:{type:null,required:!1},open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["after:leave","after:enter","close:prevent","update:open"],setup(o,{emit:l}){const t=o,a=l,s=ie(),{t:m}=ue(),g=fe(),f=de(ce(t,"open","defaultOpen","modal"),a),i=pe(G(()=>t.portal)),n=G(()=>t.content),v=U(()=>{const y={closeAutoFocus:B=>B.preventDefault()};return t.dismissible?y:["pointerDownOutside","interactOutside","escapeKeyDown","closeAutoFocus"].reduce((k,E)=>(k[E]=P=>{P.preventDefault(),a("close:prevent")},k),{})}),p=U(()=>{var y;return J({extend:J(Ae),...((y=g.ui)==null?void 0:y.modal)||{}})({transition:t.transition,fullscreen:t.fullscreen})});return(y,B)=>(r(),c(e(Oe),S(K(e(f))),{default:u(({open:k})=>[s.default?(r(),c(e(Ee),{key:0,"as-child":"",class:h(t.class)},{default:u(()=>[d(y.$slots,"default",{open:k})]),_:2},1032,["class"])):b("",!0),q(e(Pe),S(K(e(i))),{default:u(()=>{var E,P;return[o.overlay?(r(),c(e(ke),{key:0,class:h(p.value.overlay({class:(E=t.ui)==null?void 0:E.overlay}))},null,8,["class"])):b("",!0),q(e(he),$({class:p.value.content({class:[!s.default&&t.class,(P=t.ui)==null?void 0:P.content]})},n.value,{onAfterEnter:B[0]||(B[0]=A=>a("after:enter")),onAfterLeave:B[1]||(B[1]=A=>a("after:leave"))},me(v.value)),{default:u(()=>[s.content&&(o.title||s.title||o.description||s.description)?(r(),c(e(ve),{key:0},{default:u(()=>[o.title||s.title?(r(),c(e(W),{key:0},{default:u(()=>[d(y.$slots,"title",{},()=>[F(I(o.title),1)])]),_:3})):b("",!0),o.description||s.description?(r(),c(e(Q),{key:1},{default:u(()=>[d(y.$slots,"description",{},()=>[F(I(o.description),1)])]),_:3})):b("",!0)]),_:3})):b("",!0),d(y.$slots,"content",{},()=>{var A,j,N;return[s.header||o.title||s.title||o.description||s.description||o.close||s.close?(r(),M("div",{key:0,class:h(p.value.header({class:(A=t.ui)==null?void 0:A.header}))},[d(y.$slots,"header",{},()=>{var V,x,L;return[ye("div",{class:h(p.value.wrapper({class:(V=t.ui)==null?void 0:V.wrapper}))},[o.title||s.title?(r(),c(e(W),{key:0,class:h(p.value.title({class:(x=t.ui)==null?void 0:x.title}))},{default:u(()=>[d(y.$slots,"title",{},()=>[F(I(o.title),1)])]),_:3},8,["class"])):b("",!0),o.description||s.description?(r(),c(e(Q),{key:1,class:h(p.value.description({class:(L=t.ui)==null?void 0:L.description}))},{default:u(()=>[d(y.$slots,"description",{},()=>[F(I(o.description),1)])]),_:3},8,["class"])):b("",!0)],2),o.close||s.close?(r(),c(e(Be),{key:0,"as-child":""},{default:u(()=>[d(y.$slots,"close",{ui:p.value},()=>{var z;return[o.close?(r(),c(ge,$({key:0,icon:o.closeIcon||e(g).ui.icons.close,size:"md",color:"neutral",variant:"ghost","aria-label":e(m)("modal.close")},typeof o.close=="object"?o.close:{},{class:p.value.close({class:(z=t.ui)==null?void 0:z.close})}),null,16,["icon","aria-label","class"])):b("",!0)]})]),_:3})):b("",!0)]})],2)):b("",!0),s.body?(r(),M("div",{key:1,class:h(p.value.body({class:(j=t.ui)==null?void 0:j.body}))},[d(y.$slots,"body")],2)):b("",!0),s.footer?(r(),M("div",{key:2,class:h(p.value.footer({class:(N=t.ui)==null?void 0:N.footer}))},[d(y.$slots,"footer")],2)):b("",!0)]})]),_:3},16,["class"])]}),_:3},16)]),_:3},16))}};export{Ee as _,ke as a,he as b,W as c,Q as d,Pe as e,Oe as f,Be as g,_e as h};
