import{h as P}from"./Modal-Bb9rUhjf.js";import{d as B,ao as q,h as S,$ as D,G as m,F as l,L as a,V as G,w as n,K as U,J as I,H as _,b as o,k as V,_ as E,ap as R,c as H,o as d,au as z}from"./index-YObWPvjX.js";import{u as J,a as A}from"./LexicalUnitCard.vue_vue_type_script_setup_true_lang-BSYWdjHM.js";import{_ as K}from"./Input-DiRqCHK5.js";import{u as O,_ as Y,s as Q}from"./shuffleArray--etw8QRp.js";import{_ as W}from"./Card-DgbfWoQ7.js";import{_ as X}from"./Select-BVk1BhMM.js";import{a as Z,b as ee}from"./speechSynthesis-BI-kllFj.js";import{_ as te}from"./Separator-C8z8sbEx.js";import"./utils-DKoGdf20.js";import"./useFormControl-4pwgIncw.js";const ae={class:"flex flex-col h-screen bg-white dark:bg-gray-800"},oe={class:"flex-1 overflow-y-auto space-y-6"},se={class:"p-4 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-md"},le={class:"flex items-center gap-3 mb-2"},ne={class:"space-y-6"},ie={class:"flex items-center gap-2"},re={class:"space-y-4"},de={class:"flex items-center gap-2"},ue={class:"space-y-4"},ce={class:"flex items-center gap-2"},me={class:"text-lg font-medium leading-6 text-gray-900 dark:text-white"},pe={class:"space-y-4"},ye={class:"flex items-center gap-2"},ge={class:"text-lg font-medium leading-6 text-gray-900 dark:text-white"},xe={class:"space-y-4"},be={class:"p-4 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 shadow-up"},he={class:"flex justify-end space-x-2"},fe={key:0,class:"p-2 w-full flex items-center justify-center bg-primary-50 dark:bg-primary-900/50 rounded-lg border border-primary-200 dark:border-primary-800"},_e={class:"text-center font-bold text-lg"},ke=B({__name:"LexicalUnitsFilter",setup(N){const t=O(),y=q(),x=[{label:"Include selected",value:"include"},{label:"Exclude selected",value:"exclude"}],k=S(()=>t.allAvailableTags.map(u=>({label:u,value:u}))),v=[{label:"Examples",key:"examples",icon:"i-heroicons-chat-bubble-left-ellipsis"},{label:"Images",key:"img",icon:"i-heroicons-photo"},{label:"Synonyms",key:"synonyms",icon:"i-heroicons-arrows-right-left-solid"},{label:"Antonyms",key:"antonyms",icon:"i-heroicons-arrows-up-down-solid"}],b=[{label:"Transcription",key:"transcription",icon:"i-heroicons-speaker-wave"},{label:"Note",key:"note",icon:"i-heroicons-pencil-square"},{label:"Definition",key:"definition",icon:"i-heroicons-information-circle"}],h=[{label:"Yes (must exist)",value:"true"},{label:"No (must not exist)",value:"false"}],r=()=>{t.resetFilterOptions(),y.add({title:"Filters Cleared",description:"All filter options have been reset.",icon:"i-heroicons-arrow-uturn-left",color:"info",duration:1500})},p=async()=>{await t.applyFilters(),y.add({title:"Filters Applied",description:`Found ${t.filteredLexicalUnitIds.length} matching unit(s).`,icon:"i-heroicons-check-circle",color:"success",duration:1500})};function w(u){return t.options[u].value?"true":"false"}function j(u,s){t.updateBooleanFieldFilter(u,{value:s==="true"})}return D(()=>{t.resetFilterOptions(),t.resetFilteredLexicalUnitIds()}),(u,s)=>{const g=G,M=te,F=ee,c=Z,C=X,f=W,$=Y,T=K,L=E;return d(),m("div",ae,[l("div",oe,[l("div",se,[l("div",le,[a(g,{name:"i-heroicons-funnel",class:"w-7 h-7 text-primary-500 dark:text-primary-400"}),s[8]||(s[8]=l("h2",{class:"text-2xl font-semibold text-gray-800 dark:text-gray-100"}," Filter Lexical Units ",-1))]),a(M,{class:"mb-6"}),l("div",ne,[a(f,{ui:{ring:"dark:ring-gray-700",header:{padding:"px-4 py-3 sm:px-6 sm:py-4"},body:{padding:"px-4 py-5 sm:p-6"}}},{header:n(()=>[l("div",ie,[a(g,{name:"i-heroicons-shield-check",class:"w-5 h-5 text-gray-500 dark:text-gray-400"}),s[9]||(s[9]=l("h3",{class:"text-lg font-medium leading-6 text-gray-900 dark:text-white"},"Status",-1))])]),default:n(()=>[l("div",re,[a(c,{label:"Filter Type",ui:{label:"text-sm font-medium text-gray-700 dark:text-gray-300"}},{default:n(()=>[a(F,{modelValue:o(t).options.status.type,"onUpdate:modelValue":[s[0]||(s[0]=e=>o(t).options.status.type=e),s[1]||(s[1]=e=>o(t).updateStatusFilterType(e))],items:x},null,8,["modelValue"])]),_:1}),a(c,{label:"Select Statuses",ui:{label:"text-sm font-medium text-gray-700 dark:text-gray-300"}},{default:n(()=>[a(C,{modelValue:o(t).options.status.chosen,"onUpdate:modelValue":[s[2]||(s[2]=e=>o(t).options.status.chosen=e),s[3]||(s[3]=e=>o(t).updateStatusChosen(e))],items:o(R),multiple:"",placeholder:"Select statuses...","value-attribute":"value","option-attribute":"label",searchable:"",ui:{default:{option:{active:"bg-gray-100 dark:bg-gray-700"}}}},null,8,["modelValue","items"])]),_:1})])]),_:1}),a(f,{ui:{ring:"dark:ring-gray-700",header:{padding:"px-4 py-3 sm:px-6 sm:py-4"},body:{padding:"px-4 py-5 sm:p-6"}}},{header:n(()=>[l("div",de,[a(g,{name:"i-heroicons-tag",class:"w-5 h-5 text-gray-500 dark:text-gray-400"}),s[10]||(s[10]=l("h3",{class:"text-lg font-medium leading-6 text-gray-900 dark:text-white"},"Tags",-1))])]),default:n(()=>[l("div",ue,[a(c,{label:"Filter Type",ui:{label:"text-sm font-medium text-gray-700 dark:text-gray-300"}},{default:n(()=>[a(F,{modelValue:o(t).options.tags.type,"onUpdate:modelValue":[s[4]||(s[4]=e=>o(t).options.tags.type=e),s[5]||(s[5]=e=>o(t).updateTagsFilterType(e))],items:x},null,8,["modelValue"])]),_:1}),a(c,{label:"Select Tags",ui:{label:"text-sm font-medium text-gray-700 dark:text-gray-300"}},{default:n(()=>[a(C,{modelValue:o(t).options.tags.chosen,"onUpdate:modelValue":[s[6]||(s[6]=e=>o(t).options.tags.chosen=e),s[7]||(s[7]=e=>o(t).updateTagsChosen(e))],items:k.value,multiple:"",placeholder:"Select tags...",searchable:"",ui:{default:{option:{active:"bg-gray-100 dark:bg-gray-700"}}}},null,8,["modelValue","items"])]),_:1})])]),_:1}),(d(),m(U,null,I(v,e=>a(f,{key:e.key,ui:{ring:"dark:ring-gray-700",header:{padding:"px-4 py-3 sm:px-6 sm:py-4"},body:{padding:"px-4 py-5 sm:p-6"}}},{header:n(()=>[l("div",ce,[a(g,{name:e.icon,class:"w-5 h-5 text-gray-500 dark:text-gray-400"},null,8,["name"]),l("h3",me,V(e.label),1)])]),default:n(()=>[l("div",pe,[a($,{"model-value":o(t).options[e.key].use,label:`Filter by ${e.label.toLowerCase()} presence`,"onUpdate:modelValue":i=>o(t).updateCountableFilter(e.key,{use:i}),ui:{label:"text-sm font-medium text-gray-700 dark:text-gray-300 cursor-pointer"}},null,8,["model-value","label","onUpdate:modelValue"]),o(t).options[e.key].use?(d(),m(U,{key:0},[a(c,{label:`Min ${e.label.toLowerCase()} count`,ui:{label:"text-sm font-medium text-gray-700 dark:text-gray-300"}},{default:n(()=>[a(T,{type:"number","model-value":o(t).options[e.key].min_count,"onUpdate:modelValue":i=>o(t).updateCountableFilter(e.key,{min_count:i?parseInt(i):void 0}),placeholder:"e.g., 1",min:"0"},null,8,["model-value","onUpdate:modelValue"])]),_:2},1032,["label"]),a(c,{label:`Max ${e.label.toLowerCase()} count`,ui:{label:"text-sm font-medium text-gray-700 dark:text-gray-300"}},{default:n(()=>[a(T,{type:"number","model-value":o(t).options[e.key].max_count,"onUpdate:modelValue":i=>o(t).updateCountableFilter(e.key,{max_count:i?parseInt(i):void 0}),placeholder:"e.g., 5",min:"0"},null,8,["model-value","onUpdate:modelValue"])]),_:2},1032,["label"])],64)):_("",!0)])]),_:2},1024)),64)),(d(),m(U,null,I(b,e=>a(f,{key:e.key,ui:{ring:"dark:ring-gray-700",header:{padding:"px-4 py-3 sm:px-6 sm:py-4"},body:{padding:"px-4 py-5 sm:p-6"}}},{header:n(()=>[l("div",ye,[a(g,{name:e.icon,class:"w-5 h-5 text-gray-500 dark:text-gray-400"},null,8,["name"]),l("h3",ge,V(e.label),1)])]),default:n(()=>[l("div",xe,[a($,{"model-value":o(t).options[e.key].active,label:`Enable ${e.label.toLowerCase()} filter`,"onUpdate:modelValue":i=>o(t).updateBooleanFieldFilter(e.key,{active:i}),ui:{label:"text-sm font-medium text-gray-700 dark:text-gray-300 cursor-pointer"}},null,8,["model-value","label","onUpdate:modelValue"]),o(t).options[e.key].active?(d(),H(c,{key:0,label:`Should ${e.label.toLowerCase()} exist?`,ui:{label:"text-sm font-medium text-gray-700 dark:text-gray-300"}},{default:n(()=>[a(F,{"model-value":w(e.key),items:h,"onUpdate:modelValue":i=>j(e.key,i)},null,8,["model-value","onUpdate:modelValue"])]),_:2},1032,["label"])):_("",!0)])]),_:2},1024)),64))])])]),l("div",be,[l("div",he,[o(t).filteredLexicalUnitIds.length>0?(d(),m("div",fe,[l("span",_e,V(o(t).filteredLexicalUnitIds.length),1)])):_("",!0),a(L,{class:"cursor-pointer",color:"gray",variant:"soft",onClick:r,disabled:!o(t).areFiltersActive,icon:"i-heroicons-arrow-uturn-left"},null,8,["disabled"]),a(L,{label:"Apply",class:"cursor-pointer",color:"primary",variant:"solid",onClick:p,icon:"i-heroicons-magnifying-glass-20-solid",loading:o(t).isFiltering},null,8,["loading"])])])])}}}),ve={class:"space-y-6 mt-3 p-3 mb-140"},we={class:"flex flex-col items-center"},Fe={key:0,class:"mt-13 flex justify-center"},Oe=B({__name:"FlashCardsSettingsPage",setup(N){const t=J(),y=O(),x=S(()=>Object.fromEntries(Object.entries(t.options).map(([h,r])=>{const p=typeof r=="object"&&r!==null?r.active:r;return[h,p]}))),k=S(()=>!(t.areAllFieldsEmpty||y.filteredLexicalUnitIds.length<1)),v=()=>{t.endSession(),t.startSession(Q(y.filteredLexicalUnits)),z.push({name:"flash_cards"})},b={id:"lu-cat-003664btrbrr-546",term:"cat",translation:"кошка, кот",definition:"A small domesticated carnivorous mammal with soft fur, a short snout, and retractable claws.",examples:[{text:"The *cat* is sleeping on the sofa.",translation:"*Кошка* спит на диване."},{text:"I have two *cats* and a dog.",translation:"У меня две *кошки* и собака."},{text:"Be careful, that *cat* might scratch you.",translation:"Осторожно, эта *кошка* может тебя поцарапать."}],transcription:"kæt",img:["https://cdn.culture.ru/images/67a4f083-eeda-54e3-b73a-419ba91dc874","https://i.ytimg.com/vi/OSP9mVBGHNE/maxresdefault.jpg"],synonyms:["feline","kitty","puss"],antonyms:["dog"],tags:["animal","pet","mammal","noun"],note:"<blockquote>'Curiosity killed the cat' is a famous idiom.</blockquote><p>The word 'cat' can also refer to a family of wild animals, such as lions, tigers, and cheetahs. They are often called 'big cats'.</p>"};return(h,r)=>{const p=E,w=P;return d(),m("div",ve,[a(ke,{class:"max-h-[400px] overflow-auto rounded-lg"}),l("div",we,[r[0]||(r[0]=l("h1",{class:"text-lg font-semibold mb-2 text-gray-900 dark:text-white"},"Options",-1)),a(A,{class:"max-h-[400px] w-full overflow-auto mb-3",unit:b,"as-options":!0,"target-language":"en","hide-lexical-unit-status":!0}),a(w,{title:"Live Preview"},{body:n(()=>[a(A,{unit:b,include:x.value,class:"max-h-[500px] overflow-auto","hide-lexical-unit-status":!0,"target-language":"en"},null,8,["include"])]),default:n(()=>[a(p,{label:"Live Preview",class:"cursor-pointer",color:"primary",variant:"solid",icon:"i-heroicons-magnifying-glass-20-solid"})]),_:1})]),k.value?(d(),m("div",Fe,[a(p,{onClick:v,label:"Start Flash Cards",size:"xl",icon:"i-heroicons-bolt-solid",color:"error",variant:"outline",ui:{rounded:"rounded-full",font:"font-bold"},class:"cursor-pointer animate-bounce"})])):_("",!0)])}}});export{Oe as default};
