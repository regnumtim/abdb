import{f as _,d as ee,u as ae,g as re,h as w,ac as K,av as D,c as b,o as m,w as y,r as q,H as V,b as t,m as A,ae as oe,ad as le,aw as te,P as L,ax as ne,L as $,ay as de,y as H,z as ce,D as ue,az as fe,N as pe,ah as me,aA as ve,B as Q,C as he,F as be,G as W,I as h,V as X,e as Y,k as Z,ag as ye,Q as U}from"./index-o-Ql71uG.js";import{u as ge}from"./useFormControl-CuFmribr.js";import{_ as xe,c as ke,d as G}from"./speechSynthesis-C6DToNi6.js";const[Se,Ie]=_("CheckboxGroupRoot");function C(e){return e==="indeterminate"}function se(e){return C(e)?"indeterminate":e?"checked":"unchecked"}const[we,Ve]=_("CheckboxRoot"),qe=ee({inheritAttrs:!1,__name:"CheckboxRoot",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null],default:void 0},disabled:{type:Boolean},value:{default:"on"},id:{},asChild:{type:Boolean},as:{default:"button"},name:{},required:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:s}){const a=e,i=s,{forwardRef:l,currentElement:f}=ae(),n=Se(null),u=re(a,"modelValue",i,{defaultValue:a.defaultValue,passive:a.modelValue===void 0}),d=w(()=>(n==null?void 0:n.disabled.value)||a.disabled),r=w(()=>K(n==null?void 0:n.modelValue.value)?u.value==="indeterminate"?"indeterminate":u.value:D(n.modelValue.value,a.value));function c(){if(K(n==null?void 0:n.modelValue.value))u.value=C(u.value)?!0:!u.value;else{const o=[...n.modelValue.value||[]];if(D(o,a.value)){const x=o.findIndex(g=>ne(g,a.value));o.splice(x,1)}else o.push(a.value);n.modelValue.value=o}}const F=ge(f),z=w(()=>{var o;return a.id&&f.value?(o=document.querySelector(`[for="${a.id}"]`))==null?void 0:o.innerText:void 0});return Ve({disabled:d,state:r}),(o,x)=>{var g,k;return m(),b(te((g=t(n))!=null&&g.rovingFocus.value?t(ke):t(L)),A(o.$attrs,{id:o.id,ref:t(l),role:"checkbox","as-child":o.asChild,as:o.as,type:o.as==="button"?"button":void 0,"aria-checked":t(C)(r.value)?"mixed":r.value,"aria-required":o.required,"aria-label":o.$attrs["aria-label"]||z.value,"data-state":t(se)(r.value),"data-disabled":d.value?"":void 0,disabled:d.value,focusable:(k=t(n))!=null&&k.rovingFocus.value?!d.value:void 0,onKeydown:oe(le(()=>{},["prevent"]),["enter"]),onClick:c}),{default:y(()=>[q(o.$slots,"default",{modelValue:t(u),state:r.value}),t(F)&&o.name&&!t(n)?(m(),b(t(xe),{key:0,type:"checkbox",checked:!!r.value,name:o.name,value:o.value,disabled:d.value,required:o.required},null,8,["checked","name","value","disabled","required"])):V("",!0)]),_:3},16,["id","as-child","as","type","aria-checked","aria-required","aria-label","data-state","data-disabled","disabled","focusable","onKeydown"])}}}),Ce=ee({__name:"CheckboxIndicator",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{default:"span"}},setup(e){const{forwardRef:s}=ae(),a=we();return(i,l)=>(m(),b(t(de),{present:i.forceMount||t(C)(t(a).state.value)||t(a).state.value===!0},{default:y(()=>[$(t(L),A({ref:t(s),"data-state":t(se)(t(a).state.value),"data-disabled":t(a).disabled.value?"":void 0,style:{pointerEvents:"none"},"as-child":i.asChild,as:i.as},i.$attrs),{default:y(()=>[q(i.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),Fe={slots:{root:"relative flex items-start",container:"flex items-center",base:"rounded-sm ring ring-inset ring-accented overflow-hidden focus-visible:outline-2 focus-visible:outline-offset-2",indicator:"flex items-center justify-center size-full text-inverted",icon:"shrink-0 size-full",wrapper:"w-full",label:"block font-medium text-default",description:"text-muted"},variants:{color:{primary:{base:"focus-visible:outline-primary",indicator:"bg-primary"},secondary:{base:"focus-visible:outline-secondary",indicator:"bg-secondary"},success:{base:"focus-visible:outline-success",indicator:"bg-success"},info:{base:"focus-visible:outline-info",indicator:"bg-info"},warning:{base:"focus-visible:outline-warning",indicator:"bg-warning"},error:{base:"focus-visible:outline-error",indicator:"bg-error"},neutral:{base:"focus-visible:outline-inverted",indicator:"bg-inverted"}},variant:{list:{root:""},card:{root:"border border-muted rounded-lg"}},indicator:{start:{root:"flex-row",wrapper:"ms-2"},end:{root:"flex-row-reverse",wrapper:"me-2"},hidden:{base:"sr-only",wrapper:"text-center"}},size:{xs:{base:"size-3",container:"h-4",wrapper:"text-xs"},sm:{base:"size-3.5",container:"h-4",wrapper:"text-xs"},md:{base:"size-4",container:"h-5",wrapper:"text-sm"},lg:{base:"size-4.5",container:"h-5",wrapper:"text-sm"},xl:{base:"size-5",container:"h-6",wrapper:"text-base"}},required:{true:{label:"after:content-['*'] after:ms-0.5 after:text-error"}},disabled:{true:{base:"cursor-not-allowed opacity-75",label:"cursor-not-allowed opacity-75",description:"cursor-not-allowed opacity-75"}},checked:{true:""}},compoundVariants:[{size:"xs",variant:"card",class:{root:"p-2.5"}},{size:"sm",variant:"card",class:{root:"p-3"}},{size:"md",variant:"card",class:{root:"p-3.5"}},{size:"lg",variant:"card",class:{root:"p-4"}},{size:"xl",variant:"card",class:{root:"p-4.5"}},{color:"primary",variant:"card",class:{root:"has-data-[state=checked]:border-primary"}},{color:"secondary",variant:"card",class:{root:"has-data-[state=checked]:border-secondary"}},{color:"success",variant:"card",class:{root:"has-data-[state=checked]:border-success"}},{color:"info",variant:"card",class:{root:"has-data-[state=checked]:border-info"}},{color:"warning",variant:"card",class:{root:"has-data-[state=checked]:border-warning"}},{color:"error",variant:"card",class:{root:"has-data-[state=checked]:border-error"}},{color:"neutral",variant:"card",class:{root:"has-data-[state=checked]:border-inverted"}},{variant:"card",disabled:!0,class:{root:"cursor-not-allowed opacity-75"}}],defaultVariants:{size:"md",color:"primary",variant:"list",indicator:"start"}},$e=Object.assign({inheritAttrs:!1},{__name:"Checkbox",props:H({as:{type:null,required:!1},label:{type:String,required:!1},description:{type:String,required:!1},color:{type:null,required:!1},variant:{type:null,required:!1},size:{type:null,required:!1},indicator:{type:null,required:!1},icon:{type:String,required:!1},indeterminateIcon:{type:String,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},disabled:{type:Boolean,required:!1},required:{type:Boolean,required:!1},name:{type:String,required:!1},value:{type:[String,Number,Object,null],required:!1},id:{type:String,required:!1},defaultValue:{type:[Boolean,String],required:!1}},{modelValue:{type:[Boolean,String],default:void 0},modelModifiers:{}}),emits:H(["change"],["update:modelValue"]),setup(e,{emit:s}){const a=e,i=ce(),l=s,f=ue(e,"modelValue",{type:[Boolean,String],default:void 0}),n=he(),u=fe(pe(a,"required","value","defaultValue")),{id:d,emitFormChange:r,emitFormInput:c,size:F,color:z,name:o,disabled:x,ariaAttrs:g}=me(a),k=d.value??ve(),p=w(()=>{var v;return Q({extend:Q(Fe),...((v=n.ui)==null?void 0:v.checkbox)||{}})({size:F.value,color:z.value,variant:a.variant,indicator:a.indicator,required:a.required,disabled:x.value})});function ie(v){const S=new Event("change",{target:{value:v}});l("change",S),r(),c()}return(v,S)=>{var N;return m(),b(t(L),{as:!e.variant||e.variant==="list"?e.as:t(G),class:h(p.value.root({class:[(N=a.ui)==null?void 0:N.root,a.class]}))},{default:y(()=>{var P,M,O,E,R;return[be("div",{class:h(p.value.container({class:(P=a.ui)==null?void 0:P.container}))},[$(t(qe),A({id:t(k)},{...t(u),...v.$attrs,...t(g)},{modelValue:f.value,"onUpdate:modelValue":[S[0]||(S[0]=B=>f.value=B),ie],name:t(o),disabled:t(x),class:p.value.base({class:(M=a.ui)==null?void 0:M.base})}),{default:y(({modelValue:B})=>{var T;return[$(t(Ce),{class:h(p.value.indicator({class:(T=a.ui)==null?void 0:T.indicator}))},{default:y(()=>{var J,j;return[B==="indeterminate"?(m(),b(X,{key:0,name:e.indeterminateIcon||t(n).ui.icons.minus,class:h(p.value.icon({class:(J=a.ui)==null?void 0:J.icon}))},null,8,["name","class"])):(m(),b(X,{key:1,name:e.icon||t(n).ui.icons.check,class:h(p.value.icon({class:(j=a.ui)==null?void 0:j.icon}))},null,8,["name","class"]))]}),_:2},1032,["class"])]}),_:1},16,["id","modelValue","name","disabled","class"])],2),e.label||i.label||e.description||i.description?(m(),W("div",{key:0,class:h(p.value.wrapper({class:(O=a.ui)==null?void 0:O.wrapper}))},[e.label||i.label?(m(),b(te(!e.variant||e.variant==="list"?t(G):"p"),{key:0,for:t(k),class:h(p.value.label({class:(E=a.ui)==null?void 0:E.label}))},{default:y(()=>[q(v.$slots,"label",{label:e.label},()=>[Y(Z(e.label),1)])]),_:3},8,["for","class"])):V("",!0),e.description||i.description?(m(),W("p",{key:1,class:h(p.value.description({class:(R=a.ui)==null?void 0:R.description}))},[q(v.$slots,"description",{description:e.description},()=>[Y(Z(e.description),1)])],2)):V("",!0)],2)):V("",!0)]}),_:3},8,["as","class"])}}}),I={status:{type:"include",chosen:[]},tags:{type:"include",chosen:[]},examples:{use:!1},img:{use:!1},synonyms:{use:!1},antonyms:{use:!1},transcription:{active:!1,value:!0},note:{active:!1,value:!0},definition:{active:!1,value:!0}},Ae=ye("filter",{state:()=>({filteredLexicalUnitIds:[],options:JSON.parse(JSON.stringify(I)),isFiltering:!1}),actions:{updateStatusFilterType(e){this.options.status.type=e},updateStatusChosen(e){this.options.status.chosen=e},updateTagsFilterType(e){this.options.tags.type=e},updateTagsChosen(e){this.options.tags.chosen=e},updateCountableFilter(e,s){this.options[e]={...this.options[e],...s},s.use===!1&&(delete this.options[e].min_count,delete this.options[e].max_count)},updateBooleanFieldFilter(e,s){this.options[e]={...this.options[e],...s}},resetFilterOptions(){this.options=JSON.parse(JSON.stringify(I))},resetFilteredLexicalUnitIds(){this.filteredLexicalUnitIds=[]},applyFilters(){var i;this.isFiltering=!0;const e=U();if(!e.isPackLoaded||!e.lexicalUnits||!e.status){this.filteredLexicalUnitIds=((i=e.lexicalUnits)==null?void 0:i.map(l=>l.id))||[],this.isFiltering=!1;return}const s=e.lexicalUnits,a=e.status.statusMap;this.filteredLexicalUnitIds=s.filter(l=>{var u;if(this.options.status.chosen.length>0){let d=null;for(const r in a)if(a[r].includes(l.id)){d=r;break}if(d){const r=this.options.status.chosen.includes(d);if(this.options.status.type==="include"&&!r||this.options.status.type==="exclude"&&r)return!1}else if(this.options.status.type==="include")return!1}if(this.options.tags.chosen.length>0){const d=l.tags||[],r=this.options.tags.chosen.some(c=>d.includes(c));if(this.options.tags.type==="include"&&!r||this.options.tags.type==="exclude"&&r)return!1}const f=["examples","img","synonyms","antonyms"];for(const d of f){const r=this.options[d];if(r.use){let c=0;if(d==="img"?c=Array.isArray(l.img)?l.img.length:l.img?1:0:c=((u=l[d])==null?void 0:u.length)||0,c===0||r.min_count!==void 0&&c<r.min_count||r.max_count!==void 0&&c>r.max_count)return!1}}const n=["transcription","note","definition"];for(const d of n){const r=this.options[d];if(r.active){const c=!!l[d]&&String(l[d]).trim()!=="";if(r.value!==c)return!1}}return!0}).map(l=>l.id),this.isFiltering=!1}},getters:{allAvailableTags(){const e=U();if(!e.lexicalUnits)return[];const s=new Set;return e.lexicalUnits.forEach(a=>{var i;(i=a.tags)==null||i.forEach(l=>s.add(l))}),Array.from(s).sort()},areFiltersActive(e){return JSON.stringify(e.options)!==JSON.stringify(I)},filteredLexicalUnits(e){const s=U();if(!s.isPackLoaded||!s.lexicalUnits)return[];if(!this.areFiltersActive)return s.lexicalUnits;const a=new Set(e.filteredLexicalUnitIds);return s.lexicalUnits.filter(i=>a.has(i.id))}}}),Le=e=>{let s=e.slice(),a=s.length;for(let i=0;i<a;i++){let l=Math.floor(Math.random()*(a-i))+i,f=s[i];s[i]=s[l],s[l]=f}return s};export{$e as _,Le as s,Ae as u};
